{% extends "base.html" %} 

{% block content %} 

    <div style="margin-left:240px; padding:20px;">
        <header class="header-container">
            <form action="{% url 'search' %}" method="POST">
                {% csrf_token %}

                <div class="search-bar" style="width: 390px;">
                    <input type="search" name="query" placeholder="What do you want to listen to?" aria-label="Search">
                    <button type="submit" aria-label="Search">
                        üîç
                    </button>
                </div>
            </form>
            <div class="search-title"></div>
        </header>


        <main style="padding-top:20px;">
           
        
            {% if search %}
                <h2>Search Results</h2>
                <ul>
                    {% for srch in search %}
                        <li>
                            <img src="{{ track.image }}" alt="{{ track.name }}">
                            <h3>{{ srch.name }}</h3>
                            <p>Artist: {{ srch.artist }}</p>
                            <p>Album: {{ srch.album }}</p>
                            <!-- <iframe src="https://open.spotify.com/embed/track/{{ srch.track_id }}" width="300" height="80" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe> -->
                        </li>
                    {% endfor %}
                </ul>
            {% else %}

            <div>
                Here comes the top 5 generes
            </div>
            <section class=" mt-0 p-0 h-96 overflow-y-auto whitespace-nowrap flex flex-col">
                <!-- Artist Card -->
                {% for t in track %}
                <div class="">
                    <a class="flex items-center p-2 hover:bg-gray-800 rounded-md" href="{% url 'song_detail' t.track_id %}">
                        <img class="w-12 h-12 rounded-md mr-4" src="{{ t.image }}" alt="{{ t.name }}">
                        <div class="flex-1">
                          <p class="text-white font-medium">{{ t.name }}</p>
                          <p class="text-gray-400">{{ t.artist }}</p>
                        </div>
                        <button class="bg-gray-600 hover:bg-grey-200 text-white rounded-full p-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="10px" fill="white" viewBox="0 0 384 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg>
                          </button>
                      </a>
                    </a>
                </div>
                {% endfor %}
            </section>
            <!-- Repeat sections for other categories with more content cards -->
          <!--        CATEGORY CARDS
             <div class="browse-all">

            {% for track in first_six_tracks %}
            <div class="category-card">
                <a style="text-decoration: none; color: white;" href="/music/{{track.id}}">
                    <img src="{{track.cover_url}}" alt="{{track.name}}">
                    <div class="category-title">{{track.name}}</div>
                </a>
            </div>
            {% endfor %}
        </div>

        <div class="browse-all">
            {% for track in second_six_tracks %}
            <div class="category-card">
                <a style="text-decoration: none; color: white;" href="/music/{{track.id}}">
                    <img src="{{track.cover_url}}" alt="{{track.name}}">
                    <div class="category-title">{{track.name}}</div>
                </a>
            </div>
            {% endfor %}
        </div>

        <div class="browse-all">
            {% for track in third_six_tracks %}
            <div class="category-card">
                <a style="text-decoration: none; color: white;" href="/music/{{track.id}}">
                    <img src="{{track.cover_url}}" alt="{{track.name}}">
                    <div class="category-title">{{track.name}}</div>
                </a>
            </div>
            {% endfor %}
        </div> -->
        {% endif %}

        </main>

    </div>
    


{% endblock %}